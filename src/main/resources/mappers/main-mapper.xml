<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="productMapper">
		<!-- reusltMap --> 
		<resultMap type="Product" id="productResultSet">
			<id property = "prdtNo" column="PRDT_NO"/>
			<result property="upNo" column="UP_NO"/>
			<result property="prdtName" column="PRDT_NAME"/>
			<result property="prdtComment" column="PRDT_COMMENT"/>
			<result property="prdtPrice" column="PRDT_PRICE"/>
			<result property="prdtMake" column="PRDT_MAKE"/>
			<result property="prdtImage" column="PRDT_IMAGE"/>
			<result property="prdtDate" column="PRDT_DATE"/>
			<result property="prdtModifyDate" column="PRDT_MODIFY_DATE"/>
			<result property="downNo" column="DOWN_CATE"/>
			<result property="prdtCode" column="PRDT_CODE"/>
			<result property="prdtImagePath" column="PRDT_IMAGE_PATH"/>
			<result property="prdtDetailImage" column="PRDT_DETAIL_IMAGE"/>
			<result property="prdtDetailImagePath" column="PRDT_DETAIL_IMAGE_PATH"/>
		</resultMap>
		
		<resultMap type="Product_opt" id="product_optResultSet">
			<id property = "optNo" column="OPT_NO"/>
			<result property="PrdtNo" column="PRDT_NO"/>
			<result property="optColor" column="OPT_COLOR"/>
			<result property="size" column="OPT_SIZE"/>
			<result property="stock" column="OPT_STOCK"/>
			<result property="optDate" column="OPT_DATE"/>
			<result property="optModifyDate" column="MODIFY_DATE"/>
			<result property="prdtCode" column="PRDT_CODE"/>
		</resultMap>
		
		<resultMap type="Product_color" id="product_colorResultSet">
			<id property = "pcName" column="PC_NAME"/>
			<result property="pcRgb" column="PC_RGB"/>
		</resultMap> 
		
	 <resultMap type="downCategory" id="downCategoryResultSet">
			<id property = "downNo" column="DOWN_NO"/>
			<result property="upNo" column="UP_NO"/>
			<result property="downName" column="DOWN_NAME"/>
			<result property="downUsing" column="DOWN_USING"/>
		</resultMap>

 
	
		<select id="getListCount1" parameterType="_int" resultType="_int">
	  	SELECT COUNT(*)
	  	FROM PRDT
	  	WHERE UP_NO = #{product1}
		</select>
		
		<select id="getListCount2" parameterType="_int" resultType="_int">
	  	SELECT COUNT(*)
	  	FROM PRDT
	  	WHERE PRDT_NO LIKE #{product2}||'%'
		</select>
  
		<select id="selectProduct1" parameterType="_int" resultMap="productResultSet">
		SELECT *
		FROM PRDT
		WHERE UP_NO = #{product1}
		ORDER BY PRDT_NO DESC
		</select>
		
		<select id="selectProduct2" parameterType="_int" resultMap="productResultSet">
		SELECT *
		FROM PRDT
		WHERE PRDT_NO LIKE #{product2}||'%'
		ORDER BY PRDT_NO DESC
		</select>
		
	 	<select id="selectProductOption1" parameterType="_int" resultMap="product_optResultSet">
		SELECT *
		FROM PRDT_OPT
		WHERE PRDT_NO LIKE #{product1}||'%'
		</select>
		
		<select id="selectProductOption2" parameterType="_int" resultMap="product_optResultSet">
		SELECT *
		FROM PRDT_OPT
		WHERE PRDT_NO LIKE #{product2}||'%'
		</select>
		
		<select id="selectProductColor1" parameterType="_int" resultMap="product_colorResultSet">
		SELECT *
		FROM P_COLOR
		
		</select>
		
		<select id="selectProductColor2" parameterType="_int" resultMap="product_colorResultSet">
		SELECT *
		FROM P_COLOR
		
		</select>
		
	
  <select id="selectCategory1" parameterType="_int" resultMap="downCategoryResultSet">
		SELECT *
		FROM DOWN_CATE
		WHERE UP_NO = #{product1}
		ORDER BY DOWN_NO ASC
		</select> 
		



</mapper>
