<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="mypageMapper">

	<resultMap id="PointResultSet" type="Point">
		<id property="ptno" column="POINT_NO"/>
		<result property="memno" column="MEM_NO"/>
		<result property="ordno" column="ORD_NO"/>
		<result property="pt_date" column="POINT_DATE"/>
		<result property="pt_price" column="POINT_PRICE"/>
		<result property="pt_content" column="POINT_CONTENT"/>
		<result property="pt_duedate" column="POINT_DUEDATE"/>
	</resultMap>

	<resultMap id="CouponMemResultSet" type="CouponMem">
		<id property="cpseq" column="CP_SEQ"/>
		<result property="memno" column="MEM_NO"/>
		<result property="cpno" column="CP_NO"/>
		<result property="cpname" column="CP_NAME"/>
		<result property="cpDiscount" column="CP_DISCOUNT"/>
		<result property="cpdate" column="CP_DATE"/>
		<result property="cpstatus" column="CP_STATUS"/>
	</resultMap>
	
	<select id="PointListCount" resultType="_int">
		SELECT COUNT(*)
		FROM POINT
		<!-- WHERE MEM_NO=#{memno} -->
	</select>
	
	<select id="PointselectList" resultMap="PointResultSet">
		SELECT *
		FROM POINT
		<!-- WHERE MEM_NO=#{memno} -->
		ORDER BY POINT_NO DESC
	</select>
	
	<select id="PointUnavailListCount" resultType="_int">
		SELECT COUNT(*)
		FROM POINT
		
	</select>

	<select id="PointselectUnavailList" resultMap="PointResultSet">
		SELECT *
		FROM POINT
		ORDER BY POINT_NO DESC
	</select>
	
	<select id="CouponListCount" resultType="_int">
		SELECT COUNT(*)
		FROM COUPON_MEM
		WHERE CP_STATUS='N'
	</select>
	
	<select id="CouponSelectList" resultMap="CouponMemResultSet">
		SELECT *
		FROM COUPON_MEM
		WHERE CP_STATUS='N'
		ORDER BY CP_SEQ DESC
	</select>

</mapper>